<!doctype html>
<html lang="en-US">

<head>
    <link rel="stylesheet" href="src/styles.css">
    <meta charset="utf-8" />
    <title>Kristian Returnbox</title>
</head>


<body>
    <h1>Kristian Returnbox <br> AD0462</h1>
    <h1></h1>
    <div class="card">
        <div class="boxt3">
            <div class="numberContainer">
                <form>
                    <div class="input-group">
                        <label for="number1">T1</label>
                        <input class="inputNumber" type="number" id="number1">
                    </div>
                    <div class="input-group">
                        <label for="number2">T2</label>
                        <input class="inputNumber" type="number" id="number2">
                    </div>
                    <div class="input-group">
                        <label for="number3">T3</label>
                        <input class="inputNumber" type="number" id="number3">
                    </div>
                    <div class="input-group">
                        <label for="number4">T4</label>
                        <input class="inputNumber" type="number" id="number4">
                    </div>
                </form>
            </div>
            <p id="sum">Pistemäärä (summa): </p>
            <p id="grade">Arvosana: </p>
        </div>
    </div>

</body>

<script>
    const inputElements = document.querySelectorAll('.inputNumber');

    const sumElement = document.getElementById('sum');
    const gradeElement = document.getElementById('grade');

    inputElements.forEach((input, index) => {
        input.addEventListener('blur', () => {
            const points = parseInt(input.value);

            if (isNaN(points) || points < 0 || points > 6) {
                sumElement.textContent = 'Pistemäärä (summa): VIRHE!';
                gradeElement.textContent = 'Arvosana: VIRHE!';
            } else {
                const totalPoints = Array.from(inputElements).reduce(
                    (sum, input) => sum + parseInt(input.value || 0),
                    0
                );
                sumElement.textContent = `Pistemäärä (summa): ${totalPoints}`;

                let grade = 0;
                if (totalPoints >= 13 && totalPoints <= 15) grade = 1;
                else if (totalPoints >= 16 && totalPoints <= 17) grade = 2;
                else if (totalPoints >= 18 && totalPoints <= 19) grade = 3;
                else if (totalPoints >= 20 && totalPoints <= 21) grade = 4;
                else if (totalPoints >= 22 && totalPoints <= 24) grade = 5;

                gradeElement.textContent = `Arvosana: ${grade}`;
            }
        });
    });

</script>

</html>